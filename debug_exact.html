<!DOCTYPE html>
<html>
<head>
    <title>Test Exact Logic</title>
</head>
<body>
    <h1>Test Exact Logic</h1>
    <div id="result"></div>
    
    <script>
        async function testExactLogic() {
            try {
                // Test dengan diklat yang seharusnya tanggal (542 periode)
                const response = await fetch('http://localhost/tugas1_tmu1/pendaftaran/get_periode_list/72-65046-33');
                const responseData = await response.json();
                
                console.log('=== FULL API RESPONSE ===');
                console.log(responseData);
                
                const data = responseData.data || [];
                const useGelombang = responseData.use_gelombang;
                const totalPeriode = responseData.total_periode;
                
                console.log('=== EXTRACTED VALUES ===');
                console.log('data:', data);
                console.log('useGelombang:', useGelombang);
                console.log('totalPeriode:', totalPeriode);
                console.log('typeof useGelombang:', typeof useGelombang);
                
                console.log('=== CONDITION TESTING ===');
                console.log('useGelombang === true:', useGelombang === true);
                console.log('useGelombang === false:', useGelombang === false);
                
                let mode = '';
                let labelText = '';
                let headingText = '';
                
                if (useGelombang === true) {
                    console.log('üëÜ CONDITION MATCHED: GELOMBANG MODE');
                    mode = 'GELOMBANG';
                    labelText = 'Pilih Gelombang Pendaftaran';
                    headingText = 'Tentukan Periode/Gelombang';
                } else {
                    console.log('üìÖ CONDITION MATCHED: TANGGAL MODE');
                    mode = 'TANGGAL';
                    labelText = 'Pilih Tanggal Pelaksanaan';
                    headingText = 'Tentukan Tanggal';
                }
                
                document.getElementById('result').innerHTML = `
                    <h2>Test Results for REVALIDASI BST (542 periode)</h2>
                    <p><strong>Total Periode:</strong> ${totalPeriode}</p>
                    <p><strong>use_gelombang:</strong> ${useGelombang}</p>
                    <p><strong>Type:</strong> ${typeof useGelombang}</p>
                    <p><strong>Mode Detected:</strong> ${mode}</p>
                    <p><strong>Label:</strong> ${labelText}</p>
                    <p><strong>Heading:</strong> ${headingText}</p>
                    <p><strong>Data Length:</strong> ${data.length}</p>
                    <p><strong>Expected:</strong> TANGGAL (karena 542 > 5)</p>
                    <p><strong>Status:</strong> ${mode === 'TANGGAL' ? '‚úÖ CORRECT' : '‚ùå WRONG'}</p>
                `;
                
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('result').innerHTML = `<p>Error: ${error.message}</p>`;
            }
        }
        
        testExactLogic();
    </script>
</body>
</html>

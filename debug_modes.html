<!DOCTYPE html>
<html>
<head>
    <title>Debug Mode Switching</title>
</head>
<body>
    <h1>Debug Mode Switching</h1>
    <div id="debug-info"></div>
    
    <script>
        // Test multiple diklat IDs
        const testCases = [
            {name: "TRIAL (1 periode)", id: "683-31450-18-57", expected: "gelombang"},
            {name: "Nautika (2 periode)", id: "66-01721-10", expected: "gelombang"},
            {name: "REVALIDASI BST (542 periode)", id: "72-65046-33", expected: "tanggal"},
            {name: "REVALIDASI ACT (541 periode)", id: "75-35449-92", expected: "tanggal"}
        ];
        
        async function testAll() {
            const results = [];
            
            for (const test of testCases) {
                try {
                    const response = await fetch(`http://localhost/tugas1_tmu1/pendaftaran/get_periode_list/${test.id}`);
                    const data = await response.json();
                    
                    results.push({
                        ...test,
                        total_periode: data.total_periode,
                        use_gelombang: data.use_gelombang,
                        actual_mode: data.use_gelombang === true ? "gelombang" : "tanggal",
                        correct: (data.use_gelombang === true ? "gelombang" : "tanggal") === test.expected
                    });
                } catch (error) {
                    results.push({
                        ...test,
                        error: error.message
                    });
                }
            }
            
            // Display results
            const html = results.map(r => `
                <div style="border: 1px solid #ccc; margin: 10px; padding: 10px; background: ${r.correct ? '#e8f5e8' : '#ffe8e8'}">
                    <h3>${r.name} (ID: ${r.id})</h3>
                    <p><strong>Expected:</strong> ${r.expected}</p>
                    <p><strong>Total Periode:</strong> ${r.total_periode || 'Error'}</p>
                    <p><strong>use_gelombang:</strong> ${r.use_gelombang}</p>
                    <p><strong>Actual Mode:</strong> ${r.actual_mode || 'Error'}</p>
                    <p><strong>Status:</strong> ${r.correct ? '✅ CORRECT' : '❌ WRONG'}</p>
                    ${r.error ? `<p><strong>Error:</strong> ${r.error}</p>` : ''}
                </div>
            `).join('');
            
            document.getElementById('debug-info').innerHTML = html;
            
            console.table(results);
        }
        
        testAll();
    </script>
</body>
</html>
